package top.easyvideo.common_utils.config;import org.springframework.boot.context.properties.ConfigurationProperties;import org.springframework.cloud.context.config.annotation.RefreshScope;import org.springframework.stereotype.Component;/** * @program: easyvideo_video * @ClassName: NacosRefreshConstants * @create: 2022/8/16:11:51 * @author: Lan Sheng * @desc: <p>全局共享配置文件nacos动态刷新获取</p> * <p> *     如需添加新的属性 请在全局配置文件配置 application-xxx.yml *     application: *       # 是否开启验证码校验 *       captcha: true *       # sm2国密密钥 *       privateKey: *       publicKey: *       .... * </p> * <p>1.需打开共享配置当中的刷新</p> * <p>2.需要手动get/set方法，注意：set方法不能为静态</p> * <p>3.变量名称需与nacos一致</p> * <p>4.在自己服务添加共享配置</p> * <p> * # 共享配置 可配置多个 * shared-configs[0]: * data-id: application-${spring.profiles.active}.${spring.cloud.nacos.config.file-extension} * refresh: true # 开启刷新 * </p> * <p> * application-dev|test|prod.yml * <p> * application: * captcha: true|false * ... * </p> **/@RefreshScope@Component@ConfigurationProperties(prefix = "application")public class NacosRefreshConfig {    /**     * 用于判断是否需要验证码     */    private static volatile boolean captcha;    public void setCaptcha(boolean captcha) {        NacosRefreshConfig.captcha = captcha;    }    public boolean getCaptcha() {        return captcha;    }    /**     * 数据传输密钥     */    private static String publicKey;    private static String privateKey;    public String isPublicKey() {        return publicKey;    }    public void setPublicKey(String publicKey) {        NacosRefreshConfig.publicKey = publicKey;    }    public String isPrivateKey() {        return privateKey;    }    public void setPrivateKey(String privateKey) {        NacosRefreshConfig.privateKey = privateKey;    }}